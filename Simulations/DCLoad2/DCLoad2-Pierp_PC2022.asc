Version 4
SHEET 1 1892 2724
WIRE -1456 -880 -1456 -944
WIRE -1456 -880 -1568 -880
WIRE -1072 -880 -1456 -880
WIRE -1072 -816 -1072 -880
WIRE -736 -784 -736 -832
WIRE -544 -784 -544 -832
WIRE -32 -768 -32 -816
WIRE -1568 -704 -1568 -880
WIRE -1456 -704 -1456 -736
WIRE -1456 -704 -1568 -704
WIRE -1072 -704 -1072 -736
WIRE -1072 -704 -1456 -704
WIRE -736 -672 -736 -704
WIRE -544 -672 -544 -704
WIRE -32 -656 -32 -688
WIRE -1456 -640 -1456 -704
WIRE -1456 -528 -1456 -560
WIRE -1456 -528 -1568 -528
WIRE -1456 -512 -1456 -528
WIRE 544 -464 544 -480
WIRE 544 -464 464 -464
WIRE 544 -432 544 -464
WIRE 368 -400 176 -400
WIRE -1568 -384 -1568 -528
WIRE -1456 -384 -1456 -432
WIRE 544 -336 544 -352
WIRE 544 -336 464 -336
WIRE 544 -320 544 -336
WIRE 176 -304 176 -320
WIRE 176 -304 -112 -304
WIRE 176 -288 176 -304
WIRE 128 -224 80 -224
WIRE 176 -112 176 -192
WIRE 368 -32 368 -400
WIRE 544 -32 544 -240
WIRE 544 -32 368 -32
WIRE -1072 32 -1184 32
WIRE -928 32 -992 32
WIRE -800 32 -928 32
WIRE -800 64 -800 32
WIRE 544 64 544 -32
WIRE -528 96 -656 96
WIRE -592 112 -592 80
WIRE 160 112 160 80
WIRE -656 128 -656 96
WIRE -624 128 -656 128
WIRE 128 128 64 128
WIRE -528 144 -528 96
WIRE -528 144 -560 144
WIRE -464 144 -528 144
WIRE 288 144 192 144
WIRE 352 144 288 144
WIRE 496 144 432 144
WIRE -800 160 -800 144
WIRE -624 160 -800 160
WIRE -112 160 -112 -176
WIRE -32 160 -112 160
WIRE 128 160 -32 160
WIRE -800 192 -800 160
WIRE -592 208 -592 176
WIRE 160 208 160 176
WIRE -1184 224 -1184 32
WIRE 288 224 288 144
WIRE -32 272 -32 240
WIRE 64 272 64 128
WIRE 64 272 -32 272
WIRE -800 304 -800 272
WIRE 64 368 64 272
WIRE 288 368 288 288
WIRE 288 368 64 368
WIRE 384 368 288 368
WIRE 544 368 544 160
WIRE 544 368 464 368
WIRE 544 464 544 368
WIRE -1072 480 -1184 480
WIRE -928 480 -928 32
WIRE -928 480 -992 480
WIRE 544 576 544 544
FLAG -1184 304 0
FLAG -1184 560 0
FLAG -736 -672 0
FLAG -736 -832 12V
FLAG -1456 -944 UUT
FLAG -800 304 0
FLAG 544 576 0
FLAG 544 -480 UUT
FLAG 160 208 0
FLAG 160 80 12V
FLAG -1456 -384 0
FLAG -1568 -384 0
FLAG -592 208 0
FLAG -592 80 12V
FLAG 176 -112 IN
FLAG 80 -224 0
FLAG -544 -672 0
FLAG -544 -832 CVCR
FLAG -32 -656 0
FLAG -32 -816 CVCRN
FLAG -464 144 IN
SYMBOL voltage -1184 464 R0
WINDOW 0 -144 36 Left 2
SYMATTR InstName LSB_Dac
SYMATTR Value {LSB}
SYMBOL voltage -1184 208 R0
WINDOW 0 -143 49 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName MSB_Dac
SYMATTR Value {MSB}
SYMBOL res -976 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10
SYMBOL res -976 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL voltage -736 -800 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage -1456 -656 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 {Vuut} 50u 1n 1n 300u 600u)
SYMBOL res -816 48 R0
SYMATTR InstName R2
SYMATTR Value {Rgain}
SYMBOL res -816 176 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL nmos 496 64 R0
SYMATTR InstName M2
SYMATTR Value IRFZ44N
SYMBOL res 528 448 R0
SYMATTR InstName Shunt2
SYMATTR Value 200m
SYMATTR SpiceLine pwr=5
SYMBOL res 448 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rout
SYMATTR Value {Rout}
SYMBOL res 480 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rfb
SYMATTR Value {Rfb}
SYMBOL bv -1456 -832 R0
SYMATTR InstName B1
SYMATTR Value V=(white(2e5*time)/3)
SYMBOL voltage -1072 -832 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(0 200m 100k)
SYMBOL cap 272 224 R0
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL ind 528 -448 R0
SYMATTR InstName L1
SYMATTR Value {Luut}
SYMATTR SpiceLine Rser=0
SYMBOL res 528 -336 R0
SYMATTR InstName R1
SYMATTR Value {Ruut}
SYMBOL EXTRA\\ExtraOpamps\\LM358_NS 160 144 R0
SYMATTR InstName U1
SYMBOL res -48 144 R0
SYMATTR InstName R8
SYMATTR Value 10
SYMBOL voltage -1456 -528 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value {Vuut}
SYMBOL EXTRA\\ExtraOpamps\\LM358_NS -592 144 R0
SYMATTR InstName U6
SYMBOL njf 128 -288 R0
SYMATTR InstName J1
SYMATTR Value J112
SYMBOL res 160 -416 R0
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL voltage -544 -800 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE(0 3.3 0 1n 1n 600u 1200u)
SYMBOL voltage -32 -784 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value PULSE(3.3 0 0 1n 1n 600u 1200u)
TEXT -1456 928 Left 2 !.param MSB=3 LSB=0
TEXT -1448 984 Left 2 ;.dc MSB_Dac 0 3.3
TEXT -1456 1048 Left 2 ;.step param MSB 0 400m 50m
TEXT -968 976 Left 2 !.param VUUT 5
TEXT -960 936 Left 2 !.param Rgain=1.5k Rout=100m Rfb=100m Ruut=100m Luut=1u Rpot=.1
TEXT -1456 1392 Left 2 ;.dc temp 25 175
TEXT -1424 1320 Left 2 !.tran 1.5m
TEXT -1136 1312 Left 2 !.op
TEXT -1144 1384 Left 2 ;.step param rpot 0 0.4 0.05
TEXT -1128 1432 Left 2 ;.step param Ruut
